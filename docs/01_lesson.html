<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.313">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Fay Walker">
<meta name="dcterms.date" content="2023-11-02">

<title>Intro to R - 1&nbsp; Data Visualization</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./02_lesson.html" rel="next">
<link href="./index.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="style.scss">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Data Visualization</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Intro to R</a> 
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Intro to R: A Hands on Tutorial</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01_lesson.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Data Visualization</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02_lesson.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Data Munging 1</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03_lesson.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Data Munging 2</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04_lesson.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Data Import</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05_lesson.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Iteration (or becoming an R Superhero)</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06_lesson.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Putting it All Together (and into Markdown)</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#review" id="toc-review" class="nav-link active" data-scroll-target="#review"><span class="toc-section-number">1.1</span>  Review</a></li>
  <li><a href="#exercise-0-set-up-a-project-and-load-packages" id="toc-exercise-0-set-up-a-project-and-load-packages" class="nav-link" data-scroll-target="#exercise-0-set-up-a-project-and-load-packages"><span class="toc-section-number">1.2</span>  Exercise 0 (Set up a project and load packages)</a></li>
  <li><a href="#exercise-1-make-a-plot" id="toc-exercise-1-make-a-plot" class="nav-link" data-scroll-target="#exercise-1-make-a-plot"><span class="toc-section-number">1.3</span>  Exercise 1 (Make a plot)</a></li>
  <li><a href="#exercise-2-change-some-of-the-plot-settings" id="toc-exercise-2-change-some-of-the-plot-settings" class="nav-link" data-scroll-target="#exercise-2-change-some-of-the-plot-settings"><span class="toc-section-number">1.4</span>  Exercise 2 (Change some of the plot settings)</a></li>
  <li><a href="#exercise-3-add-a-regression-lineconfidence-interval" id="toc-exercise-3-add-a-regression-lineconfidence-interval" class="nav-link" data-scroll-target="#exercise-3-add-a-regression-lineconfidence-interval"><span class="toc-section-number">1.5</span>  Exercise 3 (Add a regression line/confidence interval)</a></li>
  <li><a href="#exercise-4-scale-the-axes" id="toc-exercise-4-scale-the-axes" class="nav-link" data-scroll-target="#exercise-4-scale-the-axes"><span class="toc-section-number">1.6</span>  Exercise 4 (Scale the axes)</a></li>
  <li><a href="#exercise-5-make-it-look-nice" id="toc-exercise-5-make-it-look-nice" class="nav-link" data-scroll-target="#exercise-5-make-it-look-nice"><span class="toc-section-number">1.7</span>  Exercise 5 (Make it look nice!!)</a></li>
  <li><a href="#excercise-6-multiple-little-graphsfaceting" id="toc-excercise-6-multiple-little-graphsfaceting" class="nav-link" data-scroll-target="#excercise-6-multiple-little-graphsfaceting"><span class="toc-section-number">1.8</span>  Excercise 6 (Multiple little graphs/Faceting)</a></li>
  <li><a href="#exercise-7-mapping" id="toc-exercise-7-mapping" class="nav-link" data-scroll-target="#exercise-7-mapping"><span class="toc-section-number">1.9</span>  Exercise 7 (Mapping)</a></li>
  <li><a href="#functions" id="toc-functions" class="nav-link" data-scroll-target="#functions"><span class="toc-section-number">1.10</span>  Functions</a></li>
  <li><a href="#theory" id="toc-theory" class="nav-link" data-scroll-target="#theory"><span class="toc-section-number">1.11</span>  Theory</a></li>
  <li><a href="#resources" id="toc-resources" class="nav-link" data-scroll-target="#resources"><span class="toc-section-number">1.12</span>  Resources</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Data Visualization</span></h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Fay Walker </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">November 2, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<style>
@import url('https://fonts.googleapis.com/css?family=Lato&display=swap');
</style>
<p><link href="https://fonts.googleapis.com/css?family=Lato&amp;display=swap" rel="stylesheet"></p>
<section id="review" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="review"><span class="header-section-number">1.1</span> Review</h2>
<p><font color="#55b748"><strong>Why Use R instead of Excel?</strong></font></p>
<ul>
<li>Reproducibility</li>
<li>Scalability</li>
<li>Flexibility</li>
<li>Iterative</li>
<li>Open Source</li>
</ul>
<p><font color="#55b748"><strong>Remember</strong></font></p>
<ul>
<li>Environment/scripts/console</li>
<li>Comment your code as you go</li>
<li>Read your error messages</li>
<li>Where possible, type, don’t copy and paste - you will remember better!</li>
<li>The assignment operator</li>
</ul>
</section>
<section id="exercise-0-set-up-a-project-and-load-packages" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="exercise-0-set-up-a-project-and-load-packages"><span class="header-section-number">1.2</span> Exercise 0 (Set up a project and load packages)</h2>
<p><font color="#55b748"><strong>Step 1:</strong></font> Open RStudio. File &gt; New Project &gt; New Directory &gt; Select the location where you would like to create a new folder that houses your R Project. Call it <code>urbn101</code></p>
<p><font color="#55b748"><strong>Step 2:</strong></font> Open an <code>.R</code> script with the button in the top left (sheet with a plus sign icon). Save the script as <code>01_data-visualization.R</code>.</p>
<p><font color="#55b748"><strong>Step 3:</strong></font> Type <code>install.packages("tidyverse")</code> and hit enter (submit) to the Console.</p>
<p><font color="#55b748"><strong>Step 4:</strong></font> Write <code>library(tidyverse)</code> and at the top of <code>01_data-visualization.R</code>. With the cursor on the line of text, hit Control-Enter (at the same time).</p>
<ul>
<li>tidyverse - a collection of libraries that use the same syntax/grammar</li>
<li>ggplot2 - for making plots/graphs</li>
</ul>
</section>
<section id="exercise-1-make-a-plot" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="exercise-1-make-a-plot"><span class="header-section-number">1.3</span> Exercise 1 (Make a plot)</h2>
<p><font color="#55b748"><strong>Step 1:</strong></font> Submit <code>head(airquality)</code> to the console. We will use the airquality dataset in this exericise</p>
<p><font color="#55b748"><strong>Step 2:</strong></font> Type the following in your script and run the code:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>airquality)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Then add the following to your code and run it again. What’s different?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>airquality, </span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>        <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Temp, <span class="at">y =</span> Ozone))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Then add the following and run again:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>airquality, </span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>        <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Temp, <span class="at">y =</span> Ozone)) <span class="sc">+</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><font color="#55b748"><strong>Step 3:</strong></font> Add a comment above the ggplot2 code that describes the plot we created.</p>
<p><font color="#55b748"><strong>Step 4:</strong></font> Add comments below the data visualization code that describes the argument or function that corresponds to each of the first three components of the grammar of graphics.</p>
<p><font color="#ec008b"><strong>Data</strong></font> are the values represented in the visualization.</p>
<p><font color="#ec008b"><strong>Aesthetic mappings</strong></font> are directions for how data are mapped in a plot in a way that we can perceive. Aesthetic mappings include linking variables to the x-position, y-position, color, fill, shape, transparency, and size.</p>
<p><font color="#ec008b"><strong>Geometric objects</strong></font> are representations of the data, including points, lines, and polygons.</p>
</section>
<section id="exercise-2-change-some-of-the-plot-settings" class="level2" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="exercise-2-change-some-of-the-plot-settings"><span class="header-section-number">1.4</span> Exercise 2 (Change some of the plot settings)</h2>
<p><font color="#55b748"><strong>Step 1:</strong></font> Duplicate the code from your first chart. Inside <code>aes()</code>, add <code>color = "red"</code> (separated by a comma)</p>
<p><font color="#55b748"><strong>Step 2:</strong></font> Move <code>color = "red"</code> from <code>aes()</code> to <code>geom_point()</code>. What changed?</p>
<p><font color="#55b748"><strong>Step 3:</strong></font> Remove <code>color = "red"</code> and add <code>color = Month</code> inside <code>aes()</code>.</p>
<p><font color="#55b748"><strong>Step 4:</strong></font> This is a little cluttered. Add <code>alpha = 0.2</code> inside <code>geom_point()</code>.</p>
<p><font color="#55b748"><strong>Step 5:</strong></font> Add a plus sign to the end of the geom_point line, type <code>labs(title="Air Quality Temperature and Ozone Readings")</code></p>
<p>Aesthetic mappings like x and y almost always vary with the data. Aesthetic mappings like color, fill, shape, transparency, and size can vary with the data. But those arguments can also be added as styles that don’t vary with the data. If you include those arguments in <code>aes()</code>, they will show up in the legend (which can be annoying!).</p>
</section>
<section id="exercise-3-add-a-regression-lineconfidence-interval" class="level2" data-number="1.5">
<h2 data-number="1.5" class="anchored" data-anchor-id="exercise-3-add-a-regression-lineconfidence-interval"><span class="header-section-number">1.5</span> Exercise 3 (Add a regression line/confidence interval)</h2>
<p><font color="#55b748"><strong>Step 1:</strong></font> Reconfigure the data so that the geompoint parentheses are empty (move <code>mapping=aes(x=Temp, y=Ozone)</code> to the ggplot line. Add + to the labs line and add <code>geom_smooth()</code></p>
</section>
<section id="exercise-4-scale-the-axes" class="level2" data-number="1.6">
<h2 data-number="1.6" class="anchored" data-anchor-id="exercise-4-scale-the-axes"><span class="header-section-number">1.6</span> Exercise 4 (Scale the axes)</h2>
<p><font color="#55b748"><strong>Step 1:</strong></font> Create a new scatter plot using the <code>msleep</code> data set. Use <code>bodywt</code> on the x-axis and <code>sleep_total</code> on the y-axis.</p>
<p><font color="#55b748"><strong>Step 2:</strong></font> The y-axis doesn’t contain zero. Below <code>geom_point()</code>, add <code>scale_y_continuous(lim = c(0, NA))</code>. Hint: add <code>+</code> after <code>geom_point()</code>.</p>
<p><font color="#55b748"><strong>Step 3:</strong></font> The x-axis is clustered near zero. Add <code>scale_x_log10()</code> above <code>scale_y_continuous(lim = c(0, NA))</code>.</p>
<p><font color="#ec008b"><strong>Scales</strong></font> Turn data values, which are quantitative or categorical, into aesthetic values. This includes not only the x-axis and y-axis, but the ranges of sizes, shapes, and colors of aesthetics.</p>
</section>
<section id="exercise-5-make-it-look-nice" class="level2" data-number="1.7">
<h2 data-number="1.7" class="anchored" data-anchor-id="exercise-5-make-it-look-nice"><span class="header-section-number">1.7</span> Exercise 5 (Make it look nice!!)</h2>
<p><font color="#55b748"><strong>Step 1:</strong></font> Add the following code to your script. Submit it!</p>
<pre><code>ggplot(storms)+ 
geom_bar(mapping=aes(category))</code></pre>
<p><font color="#55b748"><strong>Step 2:</strong></font> Run <code>install.packages("remotes")</code> and <code>remotes::install_github("UrbanInstitute/urbnthemes")</code> in the console.</p>
<p><font color="#55b748"><strong>Step 3:</strong></font> In the lines preceding the chart add and run the following code:</p>
<pre><code>library(urbnthemes)
set_urbn_defaults(style = "print")</code></pre>
<p><font color="#55b748"><strong>Step 4:</strong></font> Run the code to make the chart.</p>
<p><font color="#55b748"><strong>Step 5:</strong></font> Add <code>scale_y_continuous(expand = expand_scale(mult = c(0, 0.1)))</code> and rerun the code.</p>
<p><font color="#ec008b"><strong>Theme</strong></font> controls the visual style of plot with font types, font sizes, background colors, margins, and positioning.</p>
</section>
<section id="excercise-6-multiple-little-graphsfaceting" class="level2" data-number="1.8">
<h2 data-number="1.8" class="anchored" data-anchor-id="excercise-6-multiple-little-graphsfaceting"><span class="header-section-number">1.8</span> Excercise 6 (Multiple little graphs/Faceting)</h2>
<p><font color="#55b748"><strong>Step 1:</strong></font> Read in Zillow Observed Rent Index (ZORI) data using <code>read_csv('https://raw.githubusercontent.com/UI-Research/urbn101-intro-r/master/homework/zillow_clean.csv')</code></p>
<p><font color="#55b748"><strong>Step 2:</strong></font> Clean the zillow data to just the most expensive cites using code below:</p>
<pre><code>zillow_clean &lt;- zillow %&gt;%
  arrange(desc(Avg_price)) %&gt;%
  slice(1:10) %&gt;%
  ggplot()+
  geom_point(mapping=aes(x=Year, y=Avg_price))</code></pre>
<p><font color="#55b748"><strong>Step 3:</strong></font> In ggplot, plot the zillow_clean data as a scatter plot with year on the x axis and avg_price on the y axis.</p>
<p><font color="#55b748"><strong>Step 4:</strong></font> Add <code>facet_wrap(~RegionName)</code> after the <code>geom_point(mapping=aes(x=Year, y=Avg_price))</code> line.</p>
</section>
<section id="exercise-7-mapping" class="level2" data-number="1.9">
<h2 data-number="1.9" class="anchored" data-anchor-id="exercise-7-mapping"><span class="header-section-number">1.9</span> Exercise 7 (Mapping)</h2>
<p><font color="#55b748"><strong>Step 1:</strong></font> Read in Multifamily housing data fro HUD using this code:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>mf_properties <span class="ot">=</span> <span class="fu">read_sf</span>(<span class="st">"https://services.arcgis.com/VTyQ9soqVukalItT/arcgis/rest/services/MULTIFAMILY_PROPERTIES_ASSISTED/FeatureServer/7/query?outFields=HH_INCOME,PCT_HISPANIC,PCT_BLACK&amp;where=1%3D1&amp;f=geojson"</span>, </span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>                        <span class="at">quiet=</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>&lt; <font color="#55b748"><strong>Step 3:</strong></font>: In ggplot, plot the mf_properties dataset, fill it in using the <code>PCT_HISPANIC</code> column, add labels, change the outline (<code>colour</code>). Instead of using geom_point or geom_bar using geom_sf.</p>
<p><font color="#ec008b"> Mapping Resources </font></p>
<ul>
<li><a href="https://medium.com/@urban_institute/how-to-create-state-and-county-maps-easily-in-r-577d29300bb2">How to Create State and County Maps Easily in R</a></li>
<li><a href="https://UrbanInstitute.github.io/r-at-urban/mapping.html">Urban Institute R Users Group website: mapping</a></li>
</ul>
</section>
<section id="functions" class="level2" data-number="1.10">
<h2 data-number="1.10" class="anchored" data-anchor-id="functions"><span class="header-section-number">1.10</span> Functions</h2>
<ul>
<li><code>ggplot()</code>: Create a plot, pull in data</li>
<li><code>aes()</code>: The aesthetics that show up in the legend</li>
<li><code>geom_*()</code>: What kind of graph
<ul>
<li><code>geom_point()</code></li>
<li><code>geom_line()</code></li>
<li><code>geom_bar()</code></li>
<li><code>geom_col()</code></li>
<li><code>geom_sf()</code></li>
</ul></li>
<li><code>scale_*()</code>: The units on the x/y axis (discrete/continuous)
<ul>
<li><code>scale_y_continuous()</code></li>
</ul></li>
<li><code>labs()</code>: Labels
<ul>
<li>x/y/title/fill/colour</li>
</ul></li>
</ul>
</section>
<section id="theory" class="level2" data-number="1.11">
<h2 data-number="1.11" class="anchored" data-anchor-id="theory"><span class="header-section-number">1.11</span> Theory</h2>
<ol type="1">
<li><em>Data</em></li>
<li><em>Aesthetic mappings</em></li>
<li><em>Geometric objects</em></li>
<li><em>Scales</em></li>
<li><em>Coordinate systems</em></li>
<li><em>Facets</em></li>
<li><em>Statistical transformations</em></li>
<li><em>Theme</em></li>
</ol>
</section>
<section id="resources" class="level2" data-number="1.12">
<h2 data-number="1.12" class="anchored" data-anchor-id="resources"><span class="header-section-number">1.12</span> Resources</h2>
<ul>
<li><a href="https://UrbanInstitute.github.io/r-at-urban/graphics-guide.html">Urban Institute R Users Group website</a></li>
<li><a href="https://medium.com/@urban_institute/why-the-urban-institute-visualizes-data-with-ggplot2-46d8cfc7ee67">Why the Urban Institute visualizes data with ggplot2</a></li>
<li><a href="http://r4ds.had.co.nz/data-visualisation.html">R for Data Science: data visualization</a></li>
<li><a href="https://awunderground.github.io/ggplot2-themes/">awunderground themes</a></li>
<li><a href="https://www.r-graph-gallery.com/">R Graph Gallery</a></li>
<li><a href="https://vita.had.co.nz/papers/layered-grammar.html">“A Layered Grammar of Graphics”</a> by Hadley Wickham</li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./index.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Intro to R: A Hands on Tutorial</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./02_lesson.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Data Munging 1</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>